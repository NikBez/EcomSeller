# Скрипт для загрузки таможенных деклараций Elektronik Ticaret Gümrük Beyannamesi (ETGB) для продавцов из Турции.

## Требования перед запуском:

- Используй Poetry (или другую библиотеку) для установки зависимостей;
```python
poetry install
```
- Для работы на локальной машине должен быть установлен [Docker](https://www.docker.com)
- Необходимо заполнить файл .env по примеру в файле .env_example

Поднимаем базу с помощью Docker:
```
docker-compose up
```
## Описание 
- Скрипт script.py обращается к API OZON-SELLER, и загружает данные о ETGB за последние 4 дня в докерезированную базу Clickhouse.
- Сервис на базе FastAPI позволяет просмотреть все записи в Clickhouse а так же подгрузить новые используя свои учетные данные OZON 

Для запуска скрипта:
````
python3 script.py
````

Для доступа к endpoint:
````
uvicorn main:app
127.0.0.1:8000/docs
````


PS: К сожалению не смог получить доступ к реальным данным чере API Озон поэтому тестировал на шаблонных данных в референсной структуре

PSS: В планах поднять Celery для выполнения скрипта по расписанию.